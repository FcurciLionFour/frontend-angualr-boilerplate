<div *ngIf="loading()" class="text-gray-500">
    Cargando usuarioâ€¦
</div>

<div *ngIf="!loading() && user()" class="max-w-xl bg-white rounded shadow p-6">
    <h1 class="text-xl font-semibold mb-4">Detalle de usuario</h1>
    <a *ngIf="authStore.permissions().includes('users.write')" [routerLink]="['/users', user()!.id, 'edit']"
        class="text-blue-600 hover:underline">
        Editar usuario
    </a>

    <div class="mb-4">
        <div class="text-sm text-gray-500">Email</div>
        <div class="font-medium">{{ user()!.email }}</div>
    </div>

    <div class="mb-4">
        <div class="text-sm text-gray-500">Roles</div>
        <div class="flex gap-2 mt-1">
            <span *ngFor="let role of user()!.roles" class="px-2 py-1 text-xs rounded bg-gray-200">
                {{ role }}
            </span>
        </div>
    </div>

    <div>
        <div class="text-sm text-gray-500">Permisos</div>
        <div class="flex flex-wrap gap-2 mt-1">
            <span *ngFor="let perm of (user()!.permissions ?? [])" class="px-2 py-1 text-xs rounded bg-gray-100">
                {{ perm }}
            </span>
        </div>
    </div>
</div>
